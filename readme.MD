# ðŸ›’ Shopping Cart (gRPC + Go + PostgreSQL)

Proyek ini adalah implementasi sederhana dari **Shopping Cart** berbasis **microservices** menggunakan:
- **Golang** sebagai bahasa utama
- **gRPC** untuk komunikasi antar service
- **gRPC-Gateway** sebagai REST + SSE adapter
- **PostgreSQL** sebagai database
- **Protobuf** di folder `shared` untuk definisi service & message

---

## Architecture
![Deskripsi Diagram](shopping-cart-grpc-flowchart.png)

---

## Demo
![Demo GIF](https://media.giphy.com/media/abc123/giphy.gif)

---

## ðŸ“‚ Struktur Project

```bash
.
â”œâ”€â”€ api-gateway
â”‚   â”œâ”€â”€ cmd
â”‚   â”œâ”€â”€ go.mod
â”‚   â””â”€â”€ go.sum
â”œâ”€â”€ order-service
â”‚   â”œâ”€â”€ cmd
â”‚   â”œâ”€â”€ go.mod
â”‚   â”œâ”€â”€ go.sum
â”‚   â””â”€â”€ internal
â”œâ”€â”€ product-service
â”‚   â”œâ”€â”€ cmd
â”‚   â”œâ”€â”€ go.mod
â”‚   â”œâ”€â”€ go.sum
â”‚   â””â”€â”€ internal
â”œâ”€â”€ shared
â”‚   â”œâ”€â”€ auth
â”‚   â”œâ”€â”€ config
â”‚   â”œâ”€â”€ database
â”‚   â”œâ”€â”€ event
â”‚   â”œâ”€â”€ go.mod
â”‚   â”œâ”€â”€ go.sum
â”‚   â”œâ”€â”€ pb
â”‚   â”œâ”€â”€ protos
â”‚   â””â”€â”€ utils
```


---

## ðŸš€ Service

### 1. Product Service
- CRUD product
- Menyimpan data produk ke PostgreSQL
- gRPC endpoint (contoh):
  - `CreateProduct`
  - `GetProduct`
  - `ListProducts`

### 2. Order Service
- Membuat order baru
- Menyimpan order ke PostgreSQL
- Mendukung **gRPC streaming** untuk update status order (PLACED â†’ PROCESSED â†’ DELIVERED â†’ RECEIVED)
- gRPC endpoint (contoh):
  - `CreateOrder`
  - `StreamOrderStatus` (server streaming)

### 3. Shared
- `.proto` file untuk **Product** dan **Order**
- Utilitas common (misalnya helper DB, logger, dsb.)

### 4. API Gateway
- Menggunakan **gRPC-Gateway** untuk expose REST API di atas gRPC
- Menyediakan **SSE endpoint** untuk order status:
```GET /api/orders/stream?order_id=<uuid>```

Contoh response stream:
```json
data: {"order_id":"...","status":"PLACED","message":"order PLACED"}
data: {"order_id":"...","status":"DELIVERED","message":"order DELIVERED"}
event: completed
data: stream closed
```

---

